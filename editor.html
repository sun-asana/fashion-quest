<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Fashion Quest Editor</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #fff5f8; padding: 20px; color: #333; }
        .card { background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 25px rgba(255,64,129,0.1); max-width: 500px; margin: auto; }
        h2 { color: #ff4081; text-align: center; }
        label { font-weight: bold; display: block; margin-top: 15px; }
        input { width: 100%; margin: 8px 0; padding: 12px; border: 2px solid #ffe0ea; border-radius: 10px; box-sizing: border-box; }
        #gen-btn { width: 100%; padding: 15px; background: #ff4081; color: white; border: none; border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: bold; margin-top: 20px; }
        .output-container { position: relative; margin-top: 25px; display: none; }
        code { display: block; background: #2d3436; color: #fab1a0; padding: 20px; border-radius: 12px; font-size: 12px; white-space: pre-wrap; word-break: break-all; }
        #copy-btn { position: absolute; top: 10px; right: 10px; background: #ff4081; color: white; border: none; padding: 5px 12px; border-radius: 6px; cursor: pointer; font-size: 12px; }
    </style>
</head>
<body>
    <div class="card">
        <h2>üëó –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä Fashion Quest</h2>
        <label>–í–æ–ø—Ä–æ—Å:</label>
        <input type="text" id="q" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 5+3">
        <label>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç:</label>
        <input type="text" id="a" placeholder="8">
        <label>–ù–∞–≥—Ä–∞–¥–∞ (–º–æ–Ω–µ—Ç—ã):</label>
        <input type="number" id="m" value="100">
        <button id="gen-btn" onclick="generate()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
        <div class="output-container" id="res-box">
            <button id="copy-btn" onclick="copyCode()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
            <code id="out"></code>
        </div>
    </div>
    <script>
        function generate() {
            const q = document.getElementById('q').value;
            const a = document.getElementById('a').value;
            const m = document.getElementById('m').value;
            const url = "https://sun-asana.github.io/fashion-quest/index.html";
            const code = `<div style="width:100%;height:100%"><iframe src="${url}" style="width:100%;height:100%;border:none;position:fixed;top:0;left:0;pointer-events:none;z-index:9999" id="fq-engine"></iframe><button style="background:#ff4081;color:#fff;border:none;padding:15px 30px;border-radius:50px;font-family:sans-serif;font-weight:700;cursor:pointer;box-shadow:0 4px 15px rgba(255,64,129,.4);pointer-events:auto" onclick="const e=document.getElementById('fq-engine');e.style.pointerEvents='auto';e.contentWindow.postMessage({type:'openTask',q:'${q}',a:'${a}',m:${m}},'*')">‚ú® –ü—Ä–æ–π—Ç–∏ –∑–∞–¥–∞–Ω–∏–µ ‚ú®</button></div>`;
            document.getElementById('out').innerText = code;
            document.getElementById('res-box').style.display = 'block';
        }
        function copyCode() {
            navigator.clipboard.writeText(document.getElementById('out').innerText);
            const b = document.getElementById('copy-btn');
            b.innerText = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
            setTimeout(() => b.innerText = '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥', 2000);
        }
    </script>
</body>
</html>
